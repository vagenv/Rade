=================================================
         Switch to Common UI
=================================================

==============
Issues
==============

Cursor still visible for a few seconds after switch to gamepad.

Equipment slot list order manually?

Ability use too often timer handle ensure

Item picked up Event?


==============
UserWidgets Create/Destroy performance
==============
AddToViewport is expensive

Solution:
- Simplify Widgets
- Cache them

Create Widgets then Hide/Unhide

Create everthing in the beggining.
This will not affect gameplay framerate.
Sync load before game starts and keep alive


ResetWidget interface when visiblity changes


=================================================
   RUI_GridContainer
=================================================
Uniform grid size

RUI_GridContainer
- Use RUI_ItemWidget_Icon


=================================================
   World Interact interface
=================================================

WorldInteract_Interface
- Action
- AltAction ?

RUI_WorldInteractWindowWidget
- WindowType = Game
- Target = Object/Actor
- Pass Action and AltAction events to Target


 Press [X] to [Action Text]
   [Detailed Description]


==============
Implement
==============

SavePoint : RUI_WorldInteractWindowWidget
- Action -> GameInstance -> Save

InteractPickup : RUI_WorldInteractWindowWidget
- Action -> Open full Pickup window

InteractStore : RUI_WorldInteractWindowWidget
- Action -> Open full Store window

BlessBall : RUI_WorldInteractWindowWidget
- Action -> Toggle StatusEffectAura on Actor


=================================================
   RItem Redesign?
=================================================

Remove Durability?

List of Interfaces for actions?
Map / Array of FStrings for content serialization and replication?
Will remove subclasses of structs, but will make Table creation harder?


Data:
ID
- Label
- Tooltip
- Icon
- Rarity
- Count
- MaxCount
- Weight
- Price
- Item
- ActionList: TArray<TSubclass<IRAction> >
- Map of additional data (Contain sub class data?)

IRAction_DestroyOnUse
IRAction_Equip

bool FREffectItem::Get (ItemData)
- TArray<TSoftClassPtr<URActiveStatusEffect> > ActiveEffects;

bool FREquipmentItem::Get (ItemData)
- EquipmentSlot
- StaticMesh
- SkeletalMesh
- CurrentDurability
- MaxDurability
- Resistence
- PassiveEffects
- RequiredStats

bool FRWeaponItem::Get (ItemData)
- Resistence
- PassiveEffects
- RequiredStats


=================================================
   Editor UI
=================================================

https://unrealcommunity.wiki/customizing-details-amp-property-type-panel-tutorial-00deskro
https://github.com/NansPellicari/UE4-HowTo-DetailsPanelCustomization/
https://docs.unrealengine.com/4.27/en-US/ProgrammingAndScripting/Slate/DetailsCustomization/


Custom Module with "Editor" suffix.

RadeTypesEditor / RadeEditor

==============
Custom Widget for:
==============

[FRCoreStats]

[FRSubStats]

[FRStatusValue]

[FRPassiveStatusEffect]

[FREnemyExp]

[RUI_Description]
| Icon |[  LABEL  ]
| Icon |[ Tooltip ]

[FRItemDataHandle]
[Table] [Item]  [<] x[Cound] [>]

[FRItemData]
[Rarity] [Name] [RUI_Description] [Max Count] [Weight] [Price] [PickupMesh] [Pickup class]

[FRActionItemData]
[AutoDestroy] [Action class] [FRItemData]

[FRConsumableItemData]
[Effect List] [FRActionItemData]

[FREquipmentData]

=================================================
         Weapons
=================================================

Track Equiped Item Ids

Add UniqueId to ItemData?
- Differentiate Dublicates
- Equiped/busy?

Reuse equipment slot or subclass of equipment slot?
Single / double hand?

==============
WeaponItem : EquipmentItem
==============
- Attack Damage (Stat Scaling)
- AttackSpeed
- AnimStyle

List of effect on attack:
- Chances
- Active status effect [Burning] / [Poisoned] / [Slow] / [Haste]

==============
MeleeWeaponItem : WeaponItem
==============

==============
RangedWeaponItem : WeaponItem
==============
Ammo
- Current
- Total
- MagSize

==============
Weapons to Implement
==============
- Rifle
- Shotgun
- Launcher
- Sword
- Magic Staff / Wand
- Shield

==============
UI Weapon bar (Left bottom)
==============
Ranged
- Ammo
Melee
- Delay


=================================================
         First Enemy Character
=================================================
- Animation
- Material
- Character blueprint
- Attack
- Basic AI


=================================================
         Session Player Info
=================================================

==============
On Connect / New Game
==============
Select:
- Spawn Location
- Name
- Icon
- Color
- Pawn Class


==============
UI Rework
==============
- Team List
- Player Info in Session
- Session List simplify


=================================================
         Teams
=================================================

Join team
Get Team List
FriendlyFire enabled/disabled


==============
Group
==============

Radial effect by GroupId (Allies/Enemies)
- Damage / Heal / StatusEffect

=================================================
         Chat
=================================================

URChatMgr.
- GameStateComponent
- New UI build in

Emotions
- Icon / Emoji (Animation)
- Sound
- On top of player
- Character animation

Audio Messages?


=================================================
   Level Transition.
=================================================

==============
'Seamless' travel to next level
==============
- Mark Actors that will persist to the Transition Level
- Travel to the Transition Level
- Mark Actors that will persist to the Final Level
- Travel to the Final Level

- Posses / Unposses ?
- Hide / show pawn?
- Enable / Disable Input?


=================================================
         Animation
=================================================

Animation Blueprint (Network)

Bunny/Object Hop Animation with body deformation

Partial body blend.
- Overlaps
- Lower body
- Upper body
- Head Movement with camera
- IK for hands to weapons attach sockets

Smooth animations

Animations:
- Look around (Camera rotation)
- Run/Sprint
- Ragdoll death
- Melee fight
- Roll/Phase (With Invincible Frame and Cost)


=================================================
         Shaders
=================================================
- Look into shaders
- OutLined overlap.
- Toon Shaders

=================================================
         AI
=================================================
- pathfinding
- patrol
- Melee and ranged
- React if attacked
- Attack together
- Hide


=================================================
         Sound
=================================================
- Jump / Land
- Running
- Weapon Attack / Reloading
- Getting hit
- Explosion
- Environment


=================================================
         Spline
=================================================
- Road
- Moving Snake
- Paricle effects


=================================================
         VFX
=================================================

Enemy Attack pulse notifier
- Red Aura for radial attack.
- Red Cone for directtional attack.

Enemy Death -> Bunny Explosion
- Puff
- Bunny Left
- Hops/Away

- Roll/Phase

- Blood
- Explosion
- Smoke
- GPU particles
- Niagara

=================================================
         Camera
=================================================
Texture Effects and Shake
- Damage
- Status Effect
- Attack


=================================================
         World Map
=================================================
Right Top Corner

Custom icons for
- NSWE
- Enemies
- Friends
- Pickups


=================================================
         Dialogue system
=================================================

Find Plugins

JSON / Graph workflow

UI
- Icon
- Header
- Message
- Select option


=================================================
         Health Bars
=================================================
Health/Stamina/Mana
- Smooth movement.
- Colors when increase (green) / decrease (red)

=================================================
      UI Rework
=================================================
- Real Mono Font
- Less is more

==============
Border
==============
- Transparent
- Thin border around window only.

==============
Settings
==============
- Audio channels with Persistent Audio Settings
- Input

==============
Other
==============
- Hide Status / Abilities if not in fight
- UI Scale 100% - 300% / SizeBox

==============
Grid Inventory
==============
- Box with icon
- Separate widget with detailed description
- Sort by types / rarity / types / price


=================================================
         Random Equipment / Weapon Generation
=================================================
Blueprint function which generate Weapon/Equipment randomly. With schema.
- Price
- Rarity
- Effect
- Color


=================================================
         Status
=================================================
MoveSpeed and Critical Substat used

Stamina/Mana/Health
- If used, stop restoring, and resume after N seconds.


=================================================
         Combo manager
=================================================

Chain use abilities or attacks
- Jump => Double Jump
- Fireball => Fireball => FireNova
- Attack => Attack => Power Attack => Get Status Effect


=================================================
         Resistance from stats
=================================================

Physical / Magical / Environment / Elemental

??? (Str)
-Blunt
-Pierce
-Slash

??? (Agi)
-Bleed
-Poison
-Rot

??? (Int)
-Magic
-Lightining
-Fire

???
-Light
-Dark
-Heal


=================================================
         Store
=================================================
- Sell Items for gold
- Re-buy?


=================================================
         Crafting
=================================================
- Personal craft list. Recipes


=================================================
         Attack combo
=================================================
Each anim style must have:
- Simple Attack
- Strong Attack
- Combo with damage multiplier


=================================================
   RInput
=================================================

Hold to:
- Destroy
- Drop
- Scroll
- Increase/Descrease


=================================================
         Balancing
=================================================
Folder with all curves;
- Items link them
- Can be updated from JSON / CSV


=================================================
         Validation
=================================================
- Item Table validation
- Blueprint naming scheme validation


=================================================
         Attack Rating
=================================================
- Chain attack tracking
- DMC style E / D / C / B / A / S / SS / SSS damage multiplier
- Reset if recieved damage


=================================================
         Save / Load Advanced
=================================================
SaveOrder Index

Async Save/Load
- SetPending (FString ObjectId)

Freeze world while saving.

Ensure everything is saved before continue.


=================================================
         Open World
=================================================
- Deterministic Perlin Noise Map
- Level breaking and layering
- Desert terrain generated using perlin noise
- Forrest with random tree placement


=================================================
         Procedural Content
=================================================
Unreal Engine Procedural Content Generation
Level
Terrain
Buildings
Trees (With animation of wind)
Grass (With animation of wind)
Dynamic Time of Day


=================================================
         Instanced static mesh + Procedural Content
=================================================
Genrate PCG terrain
InstanceMesh->Add/Rm based on range

https://www.youtube.com/watch?v=XMKFTzfPqXs


=================================================
         Nanite and lumen
=================================================
- Load high detail models on demand
- Analyse budget, resource usage and disk read pattern


=================================================
         Epic / Steam / Dedicated Server Online Subsystem
=================================================
- Deploy server on WPS
- Default:SubsystemNULL -> Only LAN sessions
- Steam/Epic subsystems


=================================================
         Online
=================================================

Stress test low bandwidth and lagging.

Database / storing user session
- Local Mysql for storing information?

External Network API
- For optional data.
- Authenticate
- Get User info
- Stream picture/content on demand


Epic network services
- Register to API
- Connecting to user epic account


Dedicated server instance
- Linux / Windows
- Optimization

=================================================
         Online Subsystem Redesign
=================================================

==============
Lobby System
==============

Authenticate user before login
Client:
- Auth with Token Server and access token
- Connect to Game Server with token

==============
Game Server
==============
- A connection request with access token.
- Check with Token Server if token is valid
- Connect / kick user.

==============
Reconnect
==============
- Location
- Level
- Info
- Persistent data between sessions with PlayerId storing data

==============
GameMode
==============
- OnPostLogin.
- Pauseable
- ChangeName?


==============
VPS
==============
- Static URL
- Automatic lobby management

==============
P2P
==============
- Search for available instances
- Connect manually
- Static URL to manage session list?


=================================================
         Pause Game
=================================================
Doesn't work with enhanced input
Only Server Pause running game
Client can move camera?


=================================================
         Hit Component Damage Multiplier
=================================================
ApplyRDamage (based on what body part was hit) (bone name?):
- Headshot
- Protected by armor


=================================================
         Face animation.
=================================================
- Rig meshes
- Camera recording
- Universal
- Audio line to mouth movement.
- Expression

=================================================
         Chaos System
=================================================
Destructable Level
- Trees
- Walls


=================================================
         Remove all float and int?
=================================================
For now ok.

Others cases are not as a big of an issue because:
- Mostly whole decimal (0.1, 0.2) will encounter rounding error.
- float is enough precision for stats, except maybe 1M+ StatusValues

float -> double:
- StatusValues
- GetRuntimeFloatCurveValue used for balancing

int -> int32


=================================================
         Optimization
=================================================

==============
Graphics
==============
Set Graphics settings custom profiles.
- *.ini files
- Shadow range
- LOD distances


==============
Network
==============
Inventory
- Replication only for owner?
- JsonData is a large FString member variable. Very expensive to replicate.


=================================================
         Other
=================================================

Gameplay Ability System

VCPP
- Link against and build with CMAKE

Custom plugin
- Block constructor or something new


=================================================
   Game Design
=================================================

==============
Character Status Effects
==============
Stagger
- Flash white
- Cancel Anim/Attack
- Push back.
- Flashing effect.

Stun
- Flash yellow
- No action for N seconds
- Can't Anim?

Bleed? (Too graphic?)
- Flash red
- % Health drain
- No regen?
- Blood trail?

Poison
- Flash green
- Flat Health drain
- No regen?

Burn
- Flash orange
- % Health drain
- Stagger ever few seconds

Frozen
- Flash blue
- Flat Health drain
- Slow status effect


==============
Attack types
==============
- Melee / Ranged
- Guns
- Attack combo
- Spells. Instant + Casting
- Environment
- Turrents / Towers
- Ally NPCs

==============
Battles
==============
- Many enemies
- Spawn in waves
- Defend checkpoint
- Buy upgrades
- Change terrain?
- Hire more NPCs and upgrade them.
- Select team


==============
Events
==============

Random Events to protect Village from attacks.
Another Player can be summoned for help

==============
Random Content
==============
- Item quality affects strength of effects?
- Equipment stats/effect
- Weapon stats/effects
- Level?

Attack counter
Roll Invincible

==============
Character Classes
==============

Class tree reqirnment?
- Stats?
- Levels?

Warrior (StrongBoi)
- Berserk (AngryBoi/BonkBoi) (big weapon)
- BladeMaster (FightBoi) (Dual Weapons)
- Guardian/Tank (ThiccBoi) (Shield, Pusher, Absorb dmg then return)

Rougue (FastBoi)
- Assassin (KnifeBoi) (daggers)
- Ranger (FarBoi) (bows, crossbows, slings)
- Gunslinger (GunBoi/Boneslinger) (Pistols, Shotguns, Rockets)

Mage (SmartBoi)
- Wizard (MagicBoi) (Spells)
- Warlock (PainBoi) (Curses)
- Summoner (PartyBoi/ClubBoi) (Skeletons / Ghosts)

=================================================